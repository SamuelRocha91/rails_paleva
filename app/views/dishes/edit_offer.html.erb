<h1 class='title'>Atualização de preço</h1>

<% if @dish.errors.any? %>
  <div class='d-flex flex-column align-items-center mt-5'>
    <p>Verifique os erros abaixo:</p>
    <ul>
      <% @dish.errors.full_messages.each do |msg|%>
       <li class='text-danger'>
          <%= msg %>
       </li>
       <% end %>
    </ul>
  </div>
<% end %>

<%= form_with(url: update_offer_dish_path(@dish.id, @offer.id), class: 'form-edit') do |f| %>
  <div class='mb-3 mt-5'>
    <%= f.label :name, 'Nome da porção', class: 'form-label' %>
    <%= f.text_field :name, 
                      name: 'format[name]', 
                      value: @offer.format.name, 
                      readonly: true, 
                      class: 'form-control' %>
  </div>
  <div class='mb-3'>
    <%= f.label :details, 'Detalhes da porção', class: 'form-label' %>
    <%= f.text_field :details, 
                      name: 'offer[details]', 
                      class: 'form-control', 
                      value:  @offer.details %>
  </div>
   <div class='mb-3'>
    <%= f.label :price, 'Preço da porção', class: 'form-label' %>
    <%= f.number_field :price, 
                        name: 'offer[price]', 
                        class: 'form-control', 
                        value: @offer.price %>
  </div>
  <%= f.submit 'Salvar', class:'btn btn-primary' %>
<% end %>